<div class="container my-5">
  <div>
    <h3 class="d-flex align-items-center gap-2 fw-bold justify-content-center"><i class="fa fa-paw text-main"></i> ペットのお悩みQ&Aをカテゴリから探す</h3>
  </div>
  <div class="mt-5">
    <div class="bg-light-yellow px-5 py-5 rounded">
      <h4 class="d-flex align-items-center gap-2 fw-bold">
        <i class="fa fa-search text-main"></i> Q&Aを検索する
      </h4>
      <div class="mt-4">
        <div class="mb-4">
          <label class="text-main mb-2">フリーワード検索 (500文字以内)</label>
          <div class="input-group">
            <input type="text" class="form-control border border-dark" placeholder="例: ヨークシャーテリア">
            <div class="input-group-btn fw-bold">
              <button class="btn bg-light-main fw-bold text-white border-dark" style="border-left-color: transparent; border-top-left-radius: 0; border-bottom-left-radius: 0;" type="submit">
                <i class="fa fa-search"></i> 検索
              </button>
            </div>
          </div>
        </div>
        <div class="mb-4">
          <label class="text-main mb-2">大分類</label>
          <div class="d-flex justify-content-betwee align-items-center gap-3">
            <div class="flex-fill bg-main rounded py-3 text-white d-flex flex-column justify-content-center align-items-center gap-2">
              <i class="fas fa-dog fa-3x"></i>
              <label class="fw-bold">犬のこと</label>
            </div>
            <div class="flex-fill bg-main rounded py-3 text-white d-flex flex-column justify-content-center align-items-center gap-2">
              <i class="fas fa-cat fa-3x"></i>
              <label class="fw-bold">猫のこと</label>
            </div>
            <div class="flex-fill bg-main rounded py-3 text-white d-flex flex-column justify-content-center align-items-center gap-2">
              <i class="fas fa-dog fa-3x"></i>
              <label class="fw-bold">その他のペットのこと</label>
            </div>
          </div>
        </div>
        <div class="mb-4">
          <div class="row">
            <div class="col-md-6 mb-2">
              <label class="mb-2 text-main">中分類</label>
              <select class="form-control">
                <option>未選択</option>
                <option>未選択</option>
                <option>未選択</option>
              </select>
            </div>
            <div class="col-md-6 mb-2">
              <label class="mb-2 text-main">中分類</label>
              <select class="form-control">
                <option>未選択</option>
                <option>未選択</option>
                <option>未選択</option>
              </select>
            </div>
          </div>
        </div>
        <div class="border-bottom-dashed-main border-main mb-4"></div>
        <div class="mb-4">
          <div class="row px-custom">
            <div class="col-md-2 px-1">
              <button class="btn w-100 bg-white btn-qa-cat text-xs border py-2 border-2 border-main d-flex flex-column gap-2 justify-content-center align-items-center">
                <i class="fa fa-syringe text-main"></i>
                <label class="text-truncate fw-bold">病気・ケガ</label>
              </button>
            </div>
            <div class="col-md-2 px-1">
              <button class="btn w-100 bg-white btn-qa-cat text-xs border py-2 border-2 border-main d-flex flex-column gap-2 justify-content-center align-items-center">
                <i class="fa fa-syringe fa-xl text-main"></i>
                <label class="text-truncate fw-bold">食事</label>
              </button>
            </div>
            <div class="col-md-2 px-1">
              <button class="btn w-100 bg-white btn-qa-cat text-xs border py-2 border-2 border-main d-flex flex-column gap-2 justify-content-center align-items-center">
                <i class="fa fa-sun fa-xl text-main"></i>
                <label class="text-truncate fw-bold">飼い方・しつけ</label>
              </button>
            </div>
            <div class="col-md-2 px-1">
              <button class="btn w-100 bg-white btn-qa-cat text-xs border py-2 border-2 border-main d-flex flex-column gap-2 justify-content-center align-items-center">
                <i class="fa fa-sun fa-xl text-main"></i>
                <label class="text-truncate fw-bold">お出かけ・遊び</label>
              </button>
            </div>
            <div class="col-md-2 px-1">
              <button class="btn w-100 bg-white btn-qa-cat text-xs border py-2 border-2 border-main d-flex flex-column gap-2 justify-content-center align-items-center">
                <i class="fa fa-heart fa-xl text-main"></i>
                <label class="text-truncate fw-bold">長生き・介護</label>
              </button>
            </div>
            <div class="col-md-2 px-1">
              <button class="btn w-100 bg-white btn-qa-cat text-xs border py-2 border-2 border-main d-flex flex-column gap-2 justify-content-center align-items-center">
                <i class="fa fa-comment fa-xl text-main"></i>
                <label class="text-truncate fw-bold">その他</label>
              </button>
            </div>
          </div>
        </div>
        <div class="text-center d-flex justify-content-center align-items-center">
          <button class="btn bg-main text-white fw-bold py-3 px-5 d-flex justify-content-center gap-1 align-items-center">
            <i class="fa fa-search"></i> 絞り込み検索
          </button>
        </div>
      </div>
    </div>
    <div class="mt-5">
      <h4 class="d-flex align-items-center justify-content-center gap-2 fw-bold">
        <i class="fa fa-search text-main"></i> 新着のQ&A
      </h4>
      <div class="mt-5 mb-5">
        <div class="px-5 py-5 border-bottom-dotted">
          <div class="d-flex align-items-center gap-2">
            <button class="btn text-main border-main bg-transparent">大分類カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">中分額カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">小分類カテゴリ</button>
          </div>
          <div class="mt-4 d-flex align-items-end gap-1">
            <span class="d-flex fw-bold text-white bg-light-cyan justify-content-center align-items-center rounded" style="width: 35px; height: 35px">
              Q
            </span>
            <p class="fw-bold my-0">
              質問内容のテキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入りま･･･
            </p>
          </div>
        </div>
        <div class="px-5 py-5 border-bottom-dotted">
          <div class="d-flex align-items-center gap-2">
            <button class="btn text-main border-main bg-transparent">大分類カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">中分額カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">小分類カテゴリ</button>
          </div>
          <div class="mt-4 d-flex align-items-end gap-1">
            <span class="d-flex fw-bold text-white bg-light-cyan justify-content-center align-items-center rounded" style="width: 35px; height: 35px">
              Q
            </span>
            <p class="fw-bold my-0">
              質問内容のテキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入りま･･･
            </p>
          </div>
        </div>
        <div class="px-5 py-5 border-bottom-dotted">
          <div class="d-flex align-items-center gap-2">
            <button class="btn text-main border-main bg-transparent">大分類カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">中分額カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">小分類カテゴリ</button>
          </div>
          <div class="mt-4 d-flex align-items-end gap-1">
            <span class="d-flex fw-bold text-white bg-light-cyan justify-content-center align-items-center rounded" style="width: 35px; height: 35px">
              Q
            </span>
            <p class="fw-bold my-0">
              質問内容のテキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入りま･･･
            </p>
          </div>
        </div>
        <div class="px-5 py-5 border-bottom-dotted">
          <div class="d-flex align-items-center gap-2">
            <button class="btn text-main border-main bg-transparent">大分類カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">中分額カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">小分類カテゴリ</button>
          </div>
          <div class="mt-4 d-flex align-items-end gap-1">
            <span class="d-flex fw-bold text-white bg-light-cyan justify-content-center align-items-center rounded" style="width: 35px; height: 35px">
              Q
            </span>
            <p class="fw-bold my-0">
              質問内容のテキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入りま･･･
            </p>
          </div>
        </div>
      </div>
      <div class="text-center d-flex justify-content-center align-items-center">
        <button class="btn bg-main text-white fw-bold py-3 px-5 d-flex justify-content-center gap-1 align-items-center">
          もっと見る
        </button>
      </div>
    </div>
    <div class="mt-5">
      <h4 class="d-flex align-items-center justify-content-center gap-2 fw-bold">
        <span class="text-main">\</span> こんなときどうするの? &A <span class="text-main">/</span>
      </h4>
      <div class="mt-5 py-5 bg-light-yellow">
        <h4 class="text-center mb-4 text-main fw-bold">Q&A</h4>
        <h4 class="text-center mb-4 text-main fw-bold">質問を投稿する</h4>
        <div class="text-center d-flex justify-content-center align-items-center">
          <button class="btn bg-main text-white fw-bold py-3 px-5 d-flex justify-content-center gap-1 align-items-center">
            質問投稿ページへ
          </button>
        </div>
      </div>
    </div>
    <div class="mt-5">
      <h4 class="d-flex align-items-center justify-content-center gap-2 fw-bold">
        <i class="fa fa-search text-main"></i> 新着のQ&A
      </h4>
      <div class="mt-5 mb-5">
        <div class="px-5 py-5 border-bottom-dotted">
          <div class="d-flex align-items-center gap-2">
            <button class="btn text-main border-main bg-transparent">大分類カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">中分額カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">小分類カテゴリ</button>
          </div>
          <div class="d-flex align-items-start gap-2 mt-4">
            <div class="d-flex justify-content-center align-items-center rounded bg-light flex-shrink-0" style="width: 150px; height: 150px">
              <i class="fa fa-user fa-5x text-secondary"></i>
            </div>
            <div class="">
              <div>
                <div class="d-flex align-items-center gap-2">
                  <span class="d-flex fw-bold text-white bg-light-cyan justify-content-center align-items-center rounded" style="width: 35px; height: 35px">
                    Q
                  </span>
                  <label class="fw-bold text-light-cyan">百部(名)</label>
                </div>
                <p class="fw-bold mt-2">
                  質問内容のテキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキス トが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。
                </p>
              </div>
              <div>
                <div class="mt-2 d-flex align-items-center gap-2">
                  <span class="d-flex fw-bold text-white rounded-circle bg-light-yellow justify-content-center align-items-center" style="width: 35px; height: 35px">
                    <i class="fa fa-crown"></i>
                  </span>
                  <label class="fw-bold text-light-yellow">ベストアンサー</label>
                </div>
                <p class="fw-bold mt-2">
                  アンサーテキストが入ります。アンサーテキストが入ります。アンサーテキストが入ります。アンサーテキ ストが入ります。アンサーテキストが入ります。
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="px-5 py-5 border-bottom-dotted">
          <div class="d-flex align-items-center gap-2">
            <button class="btn text-main border-main bg-transparent">大分類カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">中分額カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">小分類カテゴリ</button>
          </div>
          <div class="d-flex align-items-start gap-2 mt-4">
            <div class="d-flex justify-content-center align-items-center rounded bg-light flex-shrink-0" style="width: 150px; height: 150px">
              <i class="fa fa-user fa-5x text-secondary"></i>
            </div>
            <div class="">
              <div>
                <div class="d-flex align-items-center gap-2">
                  <span class="d-flex fw-bold text-white bg-light-cyan justify-content-center align-items-center rounded" style="width: 35px; height: 35px">
                    Q
                  </span>
                  <label class="fw-bold text-light-cyan">百部(名)</label>
                </div>
                <p class="fw-bold mt-2">
                  質問内容のテキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキス トが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。
                </p>
              </div>
              <div>
                <div class="mt-2 d-flex align-items-center gap-2">
                  <span class="d-flex fw-bold text-white rounded bg-main justify-content-center align-items-center" style="width: 35px; height: 35px">
                    A
                  </span>
                  <label class="fw-bold text-main">ベストアンサー</label>
                </div>
                <p class="fw-bold mt-2">
                  アンサーテキストが入ります。アンサーテキストが入ります。アンサーテキストが入ります。アンサーテキ ストが入ります。アンサーテキストが入ります。
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="text-center d-flex justify-content-center align-items-center">
        <button class="btn bg-main text-white fw-bold py-3 px-5 d-flex justify-content-center gap-1 align-items-center">
          もっと見る
        </button>
      </div>
    </div>
    <div class="mt-5">
      <h4 class="d-flex align-items-center justify-content-center gap-2 fw-bold">
        <i class="fa fa-search text-main"></i> まだ回答のついていないQ&A
      </h4>
      <div class="mt-5 mb-5">
        <div class="px-5 py-5 border-bottom-dotted">
          <div class="d-flex align-items-center gap-2">
            <button class="btn text-main border-main bg-transparent">大分類カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">中分額カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">小分類カテゴリ</button>
          </div>
          <div class="d-flex align-items-start gap-2 mt-4">
            <div class="d-flex justify-content-center align-items-center rounded bg-light flex-shrink-0" style="width: 150px; height: 150px">
              <i class="fa fa-user fa-5x text-secondary"></i>
            </div>
            <div class="mt-2">
              <div>
                <div class="d-flex align-items-center gap-2">
                  <span class="d-flex fw-bold text-white bg-light-cyan justify-content-center align-items-center rounded" style="width: 35px; height: 35px">
                    Q
                  </span>
                  <label class="fw-bold text-light-cyan">百部(名)</label>
                </div>
                <p class="fw-bold mt-2">
                  質問内容のテキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキス トが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="px-5 py-5 border-bottom-dotted">
          <div class="d-flex align-items-center gap-2">
            <button class="btn text-main border-main bg-transparent">大分類カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">中分額カテゴリ</button>
            <button class="btn text-main border-main bg-transparent">小分類カテゴリ</button>
          </div>
          <div class="d-flex align-items-start gap-2 mt-4">
            <div class="d-flex justify-content-center align-items-center rounded bg-light flex-shrink-0" style="width: 150px; height: 150px">
              <i class="fa fa-user fa-5x text-secondary"></i>
            </div>
            <div class="mt-2">
              <div>
                <div class="d-flex align-items-center gap-2">
                  <span class="d-flex fw-bold text-white bg-light-cyan justify-content-center align-items-center rounded" style="width: 35px; height: 35px">
                    Q
                  </span>
                  <label class="fw-bold text-light-cyan">百部(名)</label>
                </div>
                <p class="fw-bold mt-2">
                  質問内容のテキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキス トが入ります。テキストが入ります。テキストが入ります。テキストが入ります。テキストが入ります。
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="text-center d-flex justify-content-center align-items-center">
        <button class="btn bg-main text-white fw-bold py-3 px-5 d-flex justify-content-center gap-1 align-items-center">
          もっと見る
        </button>
      </div>
    </div>
  </div>
</div>
<div class="d-none">
  <h2 class="text-center mt-5">Q & A</h2>
  <div class="container mt-5">
    <div class="row">
      <div class="questions">
        <%= form_tag questions_path, method: :get, class:"m-4" do %>
          <div id="radio-container">
            <div class="row mb-3">
              <div class="col-12 col-md-4">
                <%= radio_button_tag(:category, 1, params[:category] == 'dog', class: "btn-check", id: "btn-check1", autocomplete: "off") %>
                <label class="btn btn-danger <%= 'active' if params[:category] == 'dog' %>" for="btn-check1">
                  <i class="fas fa-dog fa-3x"></i><br>
                  犬
                </label>
              </div>
              <div class="col-12 col-md-4">
                <%= radio_button_tag(:category, 2, params[:category] == 'cat', class: "btn-check", id: "btn-check2", autocomplete: "off") %>
                <label class="btn btn-danger <%= 'active' if params[:category] == 'cat' %>" for="btn-check2">
                  <i class="fas fa-cat fa-3x"></i><br>
                  猫
                </label>
              </div>
              <div class="col-12 col-md-4">
                <%= radio_button_tag(:category, 3, params[:category] == 'other', class: "btn-check", id: "btn-check3", autocomplete: "off") %>
                <label class="btn btn-danger <%= 'active' if params[:category] == 'other' %>" for="btn-check3">
                  <i class="fas fa-paw fa-3x"></i><br>
                  その他
                </label>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <label for="subcategory-select2" class="col-2 col-form-label text-bg-primary text-black text-center">タイプ</label>
            <div class="col-10">
              <%= select_tag :subcategory, options_for_select([], params[:subcategory]), include_blank: true, class: "form-select", style: "display: inline-block;", id: "subcategory-select2", prompt: "犬・猫を選択してください。" %>
            </div>
          </div>
          <div class="row mb-3">
            <label class="col-2 col-form-label text-bg-primary text-black text-center">ステータス</label>
            <div class="col-10">
              <%= select_tag :status, options_for_select(["解決済", "回答受付中"], params[:status]), class: "form-select", style: "display: inline-block;", prompt: "ステータス" %>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-12 col-md-6 p-1">
              <%= radio_button_tag(:special_category, "病気・ケガ", params[:special_category] == '病気・ケガ', class: "btn-check", id: "btn-check4", autocomplete: "off") %>
              <label class="btn btn-danger <%= 'active' if params[:special_category] == '病気・ケガ' %>" for="btn-check4">病気・ケガ</label>
            </div>
            <div class="col-12 col-md-6 p-1">
              <%= radio_button_tag(:special_category, "食事", params[:special_category] == '食事', class: "btn-check", id: "btn-check5", autocomplete: "off") %>
              <label class="btn btn-danger <%= 'active' if params[:speicial_category] == '食事' %>" for="btn-check5">食事</label>
            </div>
            <div class="col-12 col-md-6 p-1">
              <%= radio_button_tag(:special_category, "飼い方・しつけ", params[:special_category] == '飼い方・しつけ', class: "btn-check", id: "btn-check6", autocomplete: "off") %>
              <label class="btn btn-danger <%= 'active' if params[:special_category] == '飼い方・しつけ' %>" for="btn-check6">飼い方・しつけ</label>
            </div>
            <div class="col-12 col-md-6 p-1">
              <%= radio_button_tag(:special_category, "お出かけ・遊び", params[:special_category] == 'お出かけ・遊び', class: "btn-check", id: "btn-check7", autocomplete: "off") %>
              <label class="btn btn-danger <%= 'active' if params[:special_category] == 'お出かけ・遊び' %>" for="btn-check7">お出かけ・遊び</label>
            </div>
            <div class="col-12 col-md-6 p-1">
              <%= radio_button_tag(:special_category, "長生き・介護", params[:special_category] == '長生き・介護', class: "btn-check", id: "btn-check8", autocomplete: "off") %>
              <label class="btn btn-danger <%= 'active' if params[:special_category] == '長生き・介護' %>" for="btn-check8">長生き・介護</label>
            </div>
            <div class="col-12 col-md-6 p-1">
              <%= radio_button_tag(:special_category, "その他", params[:special_category] == 'その他', class: "btn-check", id: "btn-check9", autocomplete: "off") %>
              <label class="btn btn-danger <%= 'active' if params[:special_category] == 'その他' %>" for="btn-check9">その他</label>
            </div>
          </div>
          <div class="row mb-3 border p-5">
            <%# <div class="col-12 col-md-6">
                        <input type="radio" name="options3" class="btn-check" id="btn-check10" checked autocomplete="off">
                        <label class="btn btn-danger" for="btn-check10">Single toggle</label>
                      </div>
                      <div class="col-12 col-md-6">
                        <input type="radio" name="options3" class="btn-check" id="btn-check11" autocomplete="off">
                        <label class="btn btn-danger" for="btn-check11">Single toggle</label>
                      </div>
                      <div class="col-12 col-md-6 offset-md-3">
                        <input type="radio" name="options3" class="btn-check" id="btn-check12" autocomplete="off">
                        <label class="btn btn-danger" for="btn-check12">Single toggle</label>
                    </div> %>
            <div class="col-10">
              <%= text_field_tag :keyword, params[:keyword], placeholder: "検索する", class: "form-control" %>
            </div>
            <div class="col-2">
              <%= submit_tag "検索", class: "btn btn-warning" %>
            </div>
          </div>
        <% end %>
        <h6>質問</h6>
        <div class="row p-4">
          <div class="col-12" style="text-align: right;" >
            <%= link_to "質問する", new_question_path, class: "btn btn-primary" %>
          </div>
        </div>
        <div class="row mb-3 border p-4">
          <% @questions.order(created_at: :desc).each do |question| %>
            <div class="col-12">
              <div class="card border-0 mx-0">
                <div class="row g-0">
                  <div class="col-md-4">
                    <img src="<%= display_pet_image(question.user) %>" class="img-fluid rounded-start" alt="...">
                  </div>
                  <div class="col-md-8">
                    <div class="card-body">
                      <% user = User.with_deleted.find_by(id: question.user_id) %>
                      <% if user && !user.deleted_at && user.pets.first %>
                        <h5 class="card-text"><%= display_pet_or_username(user) %></h5>
                      <% end %>
                      <p class="card-text"><small class="text-body-secondary">質問日:<%= question.created_at.strftime('%Y-%m-%d') %></small></p>
                      <p class="card-text">Q: <%= link_to truncate(question.body, length: 90), question_path(question) %></p>
                      <span class="badge text-bg-warning"><%= question.category.name %></span>
                      <span class="badge text-bg-warning"><%= question.subcategory.name %></span>
                      <span class="badge text-bg-warning"><%= question.special_category %></span>
                      <div class="row mt-3">
                        <div class="col-12 col-md-6">
                          <span class="card-text">回答数: <%= question.answers.count %></span>
                          <span class="card-text">ステータス: <%= question.status %></span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <hr>
            </div>
          <% end %>
          <div class="pagination">
            <%= will_paginate @questions %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
